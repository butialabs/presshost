# Nginx log rotation configuration
# Access logs: 24 hours retention (1 day)
# Error logs: 7 days retention

/var/log/nginx/access.log {
    daily
    rotate 1
    missingok
    notifempty
    compress
    delaycompress
    create 644 www-data www-data
    postrotate
        if [ -f /var/run/nginx.pid ]; then
            kill -USR1 `cat /var/run/nginx.pid` 2>/dev/null || true
        fi
    endscript
}

/var/log/nginx/error.log {
    daily
    rotate 7
    missingok
    notifempty
    compress
    delaycompress
    create 644 www-data www-data
    postrotate
        if [ -f /var/run/nginx.pid ]; then
            kill -USR1 `cat /var/run/nginx.pid` 2>/dev/null || true
        fi
    endscript
}