# PHP-FPM log rotation configuration
# Access logs: 24 hours retention (1 day)
# Error logs: 7 days retention

/var/log/php/fpm-access.log {
    daily
    rotate 1
    missingok
    notifempty
    compress
    delaycompress
    create 644 www-data www-data
    postrotate
        if [ -f /var/run/php/php-fpm.pid ]; then
            kill -USR1 `cat /var/run/php/php-fpm.pid`
        fi
    endscript
}

/var/log/php/fpm-error.log {
    daily
    rotate 7
    missingok
    notifempty
    compress
    delaycompress
    create 644 www-data www-data
    postrotate
        if [ -f /var/run/php/php-fpm.pid ]; then
            kill -USR1 `cat /var/run/php/php-fpm.pid`
        fi
    endscript
}